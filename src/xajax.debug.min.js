try{if("undefined"==typeof xajax)throw{name:"SequenceError",message:"Error: xajax core was not detected, debug module disabled."};"undefined"==typeof xajax.debug&&(xajax.debug={}),xajax.debug.workId="xajaxWork"+(new Date).getTime(),xajax.debug.windowSource="about:blank",xajax.debug.windowID="xajax_debug_"+xajax.debug.workId,"undefined"==typeof xajax.debug.windowStyle&&(xajax.debug.windowStyle="width=800,height=600,scrollbars=yes,resizable=yes,status=yes"),"undefined"==typeof xajax.debug.windowTemplate&&(xajax.debug.windowTemplate='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>xajax debug output</title><style type="text/css">/* <![CDATA[ */.debugEntry { margin: 3px; padding: 3px; border-top: 1px solid #999999; } .debugDate { font-weight: bold; margin: 2px; } .debugText { margin: 2px; } .warningText { margin: 2px; font-weight: bold; } .errorText { margin: 2px; font-weight: bold; color: #ff7777; }/* ]]> */</style></head><body><h2>xajax debug output</h2><div id="debugTag"></div></body></html>'),xajax.debug.getExceptionText=function(e){if("undefined"!=typeof e.code){if("undefined"!=typeof xajax.debug.exceptions[e.code]){var a=xajax.debug.exceptions[e.code];return"undefined"!=typeof e.data&&a.replace("{data}",e.data),a}}else if("undefined"!=typeof e.name){var a=e.name;return"undefined"!=typeof e.message&&(a+=": ",a+=e.message),a}return"An unknown error has occurred."},xajax.debug.writeMessage=function(e,a,t){try{var x=xajax.debug;("undefined"==typeof x.window||1==x.window.closed)&&(x.window=window.open(x.windowSource,x.windowID,x.windowStyle),"about:blank"==x.windowSource&&x.window.document.write(x.windowTemplate));var r=x.window,n=r.document;"undefined"==typeof a&&(a=""),"undefined"==typeof t&&(t="debugText"),e=xajax.debug.prepareDebugText(e);var u=n.getElementById("debugTag"),d=n.createElement("div"),g=n.createElement("span"),s=n.createElement("pre");g.innerHTML=(new Date).toString(),s.innerHTML=a+e,d.appendChild(g),d.appendChild(s),u.insertBefore(d,u.firstChild);try{d.className="debugEntry",g.className="debugDate",s.className=t}catch(o){}}catch(o){e.length>1e3&&(e=e.substr(0,1e3)+xajax.debug.text[102]),alert(xajax.debug.text[102]+e)}},xajax.debug.prepareDebugText=function(e){try{return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />")}catch(a){xajax.debug.stringReplace=function(e,a,t){var x=e.split(a);e="";for(var r=0;r<x.length;++r)0!=r&&(e+=t),e+=x[r];return e},xajax.debug.prepareDebugText=function(e){return e=xajax.debug.stringReplace(e,"&","&amp;"),e=xajax.debug.stringReplace(e,"<","&lt;"),e=xajax.debug.stringReplace(e,">","&gt;"),e=xajax.debug.stringReplace(e,"\n","<br />")},xajax.debug.prepareDebugText(e)}},xajax.debug.executeCommand=xajax.executeCommand,xajax.executeCommand=function(e){try{if("undefined"==typeof e.cmd)throw{code:10006};if(0==xajax.command.handler.isRegistered(e))throw{code:10007,data:e.cmd};return xajax.debug.executeCommand(e)}catch(a){var t="ExecuteCommand (";"undefined"!=typeof e.sequence&&(t+="#",t+=e.sequence,t+=", "),"undefined"!=typeof e.cmdFullName&&(t+='"',t+=e.cmdFullName,t+='"'),t+="):\n",t+=xajax.debug.getExceptionText(a),t+="\n",xajax.debug.writeMessage(t,xajax.debug.text[101],"errorText")}return!0},xajax.debug.parseAttributes=xajax.parseAttributes,xajax.parseAttributes=function(e,a){try{xajax.debug.parseAttributes(e,a)}catch(t){var x="ParseAttributes:\n";x+=xajax.debug.getExceptionText(t),x+="\n",xajax.debug.writeMessage(x,xajax.debug.text[101],"errorText")}},xajax.debug.commandHandler=xajax.command.handler.unregister("dbg"),xajax.command.handler.register("dbg",function(e){return e.cmdFullName="debug message",xajax.debug.writeMessage(e.data,xajax.debug.text[100],"warningText"),xajax.debug.commandHandler(e)}),xajax.debug.$=xajax.tools.$,xajax.tools.$=function(e){try{var a=xajax.debug.$(e);if("object"!=typeof a)throw{code:10008}}catch(t){var x="$:";x+=xajax.debug.getExceptionText(t),x+="\n",xajax.debug.writeMessage(x,xajax.debug.text[100],"warningText")}return a},xajax.debug._objectToXML=xajax.tools._objectToXML,xajax.tools._objectToXML=function(e,a){try{if(0==a.size){var t="OBJECT TO XML: maxDepth = ";t+=a.maxDepth,t+=", maxSize = ",t+=a.maxSize,xajax.debug.writeMessage(t)}var x=xajax.debug._objectToXML(e,a);if(0==a.depth){var t="OBJECT TO XML: size = ";t+=a.size,xajax.debug.writeMessage(t)}return x}catch(r){var t="ObjectToXML: ";t+=xajax.debug.getExceptionText(r),t+="\n",xajax.debug.writeMessage(t,xajax.debug.text[101],"errorText")}return""},xajax.debug._internalSend=xajax._internalSend,xajax._internalSend=function(e){try{xajax.debug.writeMessage(xajax.debug.text[104]),xajax.debug.writeMessage(xajax.debug.text[105]+e.requestData.length+xajax.debug.text[106]),e.beginDate=new Date,xajax.debug._internalSend(e)}catch(a){var t="InternalSend: ";throw t+=xajax.debug.getExceptionText(a),t+="\n",xajax.debug.writeMessage(t,xajax.debug.text[101],"errorText"),a}},xajax.debug.submitRequest=xajax.submitRequest,xajax.submitRequest=function(e){var a=e.method;a+=": ",text=decodeURIComponent(e.requestData),text=text.replace(new RegExp("&xjx","g"),"\n&xjx"),text=text.replace(new RegExp("<xjxobj>","g"),"\n<xjxobj>"),text=text.replace(new RegExp("<e>","g"),"\n<e>"),text=text.replace(new RegExp("</xjxobj>","g"),"\n</xjxobj>\n"),a+=text,xajax.debug.writeMessage(a),a=xajax.debug.text[107];var t="\n";for(var x in e.functionName)a+=t,a+=x,a+=": ",a+=e.functionName[x],t="\n";a+=t,a+=xajax.debug.text[108],a+=t,a+=e.URI,xajax.debug.writeMessage(a);try{return xajax.debug.submitRequest(e)}catch(r){if(xajax.debug.writeMessage(r.message),0<e.retry)throw r}},xajax.debug.initializeRequest=xajax.initializeRequest,xajax.initializeRequest=function(e){try{var a=xajax.debug.text[109];return xajax.debug.writeMessage(a),xajax.debug.initializeRequest(e)}catch(t){var a="InitializeRequest: ";throw a+=xajax.debug.getExceptionText(t),a+="\n",xajax.debug.writeMessage(a,xajax.debug.text[101],"errorText"),t}},xajax.debug.processParameters=xajax.processParameters,xajax.processParameters=function(e){try{if("undefined"!=typeof e.parameters){var a=xajax.debug.text[110];a+=e.parameters.length,a+=xajax.debug.text[111],xajax.debug.writeMessage(a)}else{var a=xajax.debug.text[112];xajax.debug.writeMessage(a)}return xajax.debug.processParameters(e)}catch(t){var a="ProcessParameters: ";throw a+=xajax.debug.getExceptionText(t),a+="\n",xajax.debug.writeMessage(a,xajax.debug.text[101],"errorText"),t}},xajax.debug.prepareRequest=xajax.prepareRequest,xajax.prepareRequest=function(e){try{var a=xajax.debug.text[113];return xajax.debug.writeMessage(a),xajax.debug.prepareRequest(e)}catch(t){var a="PrepareRequest: ";throw a+=xajax.debug.getExceptionText(t),a+="\n",xajax.debug.writeMessage(a,xajax.debug.text[101],"errorText"),t}},xajax.debug.call=xajax.call,xajax.call=function(){try{xajax.debug.writeMessage(xajax.debug.text[114]);var e=arguments.length;if(0==e)throw{code:10009};var a=arguments[0],t={};return e>1&&(t=arguments[1]),t.debugging=!0,xajax.debug.call(a,t)}catch(x){var r="Call: ";throw r+=xajax.debug.getExceptionText(x),r+="\n",xajax.debug.writeMessage(r,xajax.debug.text[101],"errorText"),x}},xajax.debug.request=xajax.request,xajax.request=function(){try{xajax.debug.writeMessage(xajax.debug.text[115]);var e=arguments.length;if(0==e)throw{code:10010};var a=arguments[0],t={};return e>1&&(t=arguments[1]),t.debugging=!0,xajax.debug.request(a,t)}catch(x){var r="Request: ";throw r+=xajax.debug.getExceptionText(x),r+="\n",xajax.debug.writeMessage(r,xajax.debug.text[101],"errorText"),x}},xajax.debug.getResponseProcessor=xajax.getResponseProcessor,xajax.getResponseProcessor=function(e){try{var a=xajax.debug.getResponseProcessor(e);if("undefined"==typeof a){var t=xajax.debug.text[116];try{var x=e.request.getResponseHeader("content-type");t+="Content-Type: ",t+=x,"text/html"==x&&(t+=xajax.debug.text[117])}catch(r){}xajax.debug.writeMessage(t,xajax.debug.text[101],"errorText")}return a}catch(r){var t="GetResponseProcessor: ";throw t+=xajax.debug.getExceptionText(r),t+="\n",xajax.debug.writeMessage(t,xajax.debug.text[101],"errorText"),r}},xajax.debug.responseReceived=xajax.responseReceived,xajax.responseReceived=function(e){var a,t=xajax,x=t.tools,r=t.debug;try{var n=e.request.status;if(x.in_array(t.responseSuccessCodes,n)){var u=e.request.responseText;u=u.replace(new RegExp("<cmd","g"),"\n<cmd"),u=u.replace(new RegExp("<xjx>","g"),"\n<xjx>"),u=u.replace(new RegExp("<xjxobj>","g"),"\n<xjxobj>"),u=u.replace(new RegExp("<e>","g"),"\n<e>"),u=u.replace(new RegExp("</xjxobj>","g"),"\n</xjxobj>\n"),u=u.replace(new RegExp("</xjx>","g"),"\n</xjx>"),e.midDate=new Date;var d=xajax.debug.text[118];d+=e.request.status,d+=xajax.debug.text[119],d+=u.length,d+=xajax.debug.text[120],d+=e.midDate-e.beginDate,d+=xajax.debug.text[121],d+=u,r.writeMessage(d)}else if(x.in_array(t.responseErrorsForAlert,n)){var d=xajax.debug.text[122];d+=n,d+=xajax.debug.text[123],d+=e.request.responseText,r.writeMessage(d,xajax.debug.text[101],"errorText")}else if(x.in_array(t.responseRedirectCodes,n)){var d=xajax.debug.text[124];d+=e.request.getResponseHeader("location"),r.writeMessage(d)}a=r.responseReceived(e)}catch(g){var d="ResponseReceived: ";d+=xajax.debug.getExceptionText(g),d+="\n",r.writeMessage(d,xajax.debug.text[101],"errorText")}return a},xajax.debug.completeResponse=xajax.completeResponse,xajax.completeResponse=function(e){try{var a=xajax.debug.completeResponse(e);e.endDate=new Date;var t=xajax.debug.text[125];return t+=e.endDate-e.beginDate,t+=xajax.debug.text[126],xajax.debug.writeMessage(t),a}catch(x){var t="CompleteResponse: ";throw t+=xajax.debug.getExceptionText(x),t+="\n",xajax.debug.writeMessage(t,xajax.debug.text[101],"errorText"),x}},xajax.debug.getRequestObject=xajax.tools.getRequestObject,xajax.tools.getRequestObject=function(){try{return xajax.debug.writeMessage(xajax.debug.text[127]),xajax.debug.getRequestObject()}catch(e){var a="GetRequestObject: ";throw a+=xajax.debug.getExceptionText(e),a+="\n",xajax.debug.writeMessage(a,xajax.debug.text[101],"errorText"),e}},xajax.dom.assign&&(xajax.debug.assign=xajax.dom.assign,xajax.dom.assign=function(e,a,t){try{return xajax.debug.assign(e,a,t)}catch(x){var r="xajax.dom.assign: ";r+=xajax.debug.getExceptionText(x),r+="\n",r+="Eval: element.",r+=a,r+=" = data;\n",xajax.debug.writeMessage(r,xajax.debug.text[101],"errorText")}return!0}),xajax.tools&&xajax.tools.queue&&xajax.tools.queue.retry&&("undefined"==typeof xajax.debug.tools&&(xajax.debug.tools={}),"undefined"==typeof xajax.debug.tools.queue&&(xajax.debug.tools.queue={}),xajax.debug.tools.queue.retry=xajax.tools.queue.retry,xajax.tools.queue.retry=function(e,a){return xajax.debug.tools.queue.retry(e,a)?!0:e.cmd&&"s"==e.cmd?!1:(xajax.debug.writeMessage("Retry count exceeded."),!1)}),xajax.debug.isLoaded=!0,xjx={},xjx.$=xajax.tools.$,xjx.getFormValues=xajax.tools.getFormValues,xjx.call=xajax.call,xjx.request=xajax.request,xajax.$=xajax.tools.$,xajax.getFormValues=xajax.tools.getFormValues}catch(e){alert(e.name+": "+e.message)}