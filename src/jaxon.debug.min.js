try{if("undefined"==typeof jaxon)throw{name:"SequenceError",message:"Error: Jaxon core was not detected, debug module disabled."};void 0===jaxon.debug&&(jaxon.debug={}),jaxon.debug.workId="jaxonWork"+(new Date).getTime(),jaxon.debug.windowSource="about:blank",jaxon.debug.windowID="jaxon_debug_"+jaxon.debug.workId,void 0===jaxon.debug.windowStyle&&(jaxon.debug.windowStyle="width=800,height=600,scrollbars=yes,resizable=yes,status=yes"),void 0===jaxon.debug.windowTemplate&&(jaxon.debug.windowTemplate='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>jaxon debug output</title><style type="text/css">/* <![CDATA[ */.debugEntry { margin: 3px; padding: 3px; border-top: 1px solid #999999; } .debugDate { font-weight: bold; margin: 2px; } .debugText { margin: 2px; } .warningText { margin: 2px; font-weight: bold; } .errorText { margin: 2px; font-weight: bold; color: #ff7777; }/* ]]> */</style></head><body><h2>jaxon debug output</h2><div id="debugTag"></div></body></html>'),jaxon.debug.getExceptionText=function(e){if(void 0!==e.code){if(void 0!==jaxon.debug.exceptions[e.code]){a=jaxon.debug.exceptions[e.code];return void 0!==e.data&&a.replace("{data}",e.data),a}}else if(void 0!==e.name){var a=e.name;return void 0!==e.message&&(a+=": ",a+=e.message),a}return"An unknown error has occurred."},jaxon.debug.writeMessage=function(e,a,t){try{var n=jaxon.debug;void 0!==n.window&&1!=n.window.closed||(n.window=window.open(n.windowSource,n.windowID,n.windowStyle),"about:blank"==n.windowSource&&n.window.document.write(n.windowTemplate));var o=n.window.document;void 0===a&&(a=""),void 0===t&&(t="debugText"),e=jaxon.debug.prepareDebugText(e);var r=o.getElementById("debugTag"),x=o.createElement("div"),d=o.createElement("span"),u=o.createElement("pre");d.innerHTML=(new Date).toString(),u.innerHTML=a+e,x.appendChild(d),x.appendChild(u),r.insertBefore(x,r.firstChild);try{x.className="debugEntry",d.className="debugDate",u.className=t}catch(e){}}catch(a){e.length>1e3&&(e=e.substr(0,1e3)+jaxon.debug.messages.heading),alert(jaxon.debug.messages.heading+e)}},jaxon.debug.prepareDebugText=function(e){try{return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />")}catch(a){jaxon.debug.stringReplace=function(e,a,t){var n=e.split(a);e="";for(var o=0;o<n.length;++o)0!=o&&(e+=t),e+=n[o];return e},jaxon.debug.prepareDebugText=function(e){return e=jaxon.debug.stringReplace(e,"&","&amp;"),e=jaxon.debug.stringReplace(e,"<","&lt;"),e=jaxon.debug.stringReplace(e,">","&gt;"),e=jaxon.debug.stringReplace(e,"\n","<br />")},jaxon.debug.prepareDebugText(e)}},jaxon.debug.executeCommand=jaxon.fn.handler.execute,jaxon.fn.handler.execute=function(e){try{if(void 0===e.cmd)throw{code:10006};if(0==jaxon.fn.handler.isRegistered(e))throw{code:10007,data:e.cmd};return jaxon.debug.executeCommand(e)}catch(t){var a="jaxon.fn.handler.execute (";void 0!==e.sequence&&(a+="#",a+=e.sequence,a+=", "),void 0!==e.cmdFullName&&(a+='"',a+=e.cmdFullName,a+='"'),a+="):\n",a+=jaxon.debug.getExceptionText(t),a+="\n",jaxon.debug.writeMessage(a,jaxon.debug.messages.error,"errorText")}return!0},jaxon.debug.commandHandler=jaxon.fn.handler.unregister("dbg"),jaxon.fn.handler.register("dbg",function(e){return e.cmdFullName="debug message",jaxon.debug.writeMessage(e.data,jaxon.debug.messages.warning,"warningText"),jaxon.debug.commandHandler(e)}),jaxon.debug.$=jaxon.tools.dom.$,jaxon.tools.dom.$=function(e){try{var a=jaxon.debug.$(e);if("object"!=typeof a)throw{code:10008}}catch(e){var t="$:";t+=jaxon.debug.getExceptionText(e),t+="\n",jaxon.debug.writeMessage(t,jaxon.debug.messages.warning,"warningText")}return a},jaxon.debug._internalSend=jaxon.ajax.request._send,jaxon.ajax.request._send=function(e){try{jaxon.debug.writeMessage(jaxon.debug.messages.request_sending),jaxon.debug.writeMessage(jaxon.debug.messages.request_sent+e.requestData.length+jaxon.debug.messages.requestBytesSent),e.beginDate=new Date,jaxon.debug._internalSend(e)}catch(e){var a="jaxon.ajax.request._send: ";throw a+=jaxon.debug.getExceptionText(e),a+="\n",jaxon.debug.writeMessage(a,jaxon.debug.messages.error,"errorText"),e}},jaxon.debug.submitRequest=jaxon.ajax.request.submit,jaxon.ajax.request.submit=function(e){var a=e.method;a+=": ",text=decodeURIComponent(e.requestData),text=text.replace(new RegExp("&jxn","g"),"\n&jxn"),text=text.replace(new RegExp("<jxnobj>","g"),"\n<jxnobj>"),text=text.replace(new RegExp("<e>","g"),"\n<e>"),text=text.replace(new RegExp("</jxnobj>","g"),"\n</jxnobj>\n"),a+=text,jaxon.debug.writeMessage(a),a=jaxon.debug.messages.calling;var t="\n";for(var n in e.functionName)a+=t,a+=n,a+=": ",a+=e.functionName[n],t="\n";a+=t,a+=jaxon.debug.messages.uri,a+=t,a+=e.URI,jaxon.debug.writeMessage(a);try{return jaxon.debug.submitRequest(e)}catch(a){if(jaxon.debug.writeMessage(a.message),0<e.retry)throw a}},jaxon.debug.initializeRequest=jaxon.ajax.request.initialize,jaxon.ajax.request.initialize=function(e){try{a=jaxon.debug.messages.initRequest;return jaxon.debug.writeMessage(a),jaxon.debug.initializeRequest(e)}catch(e){var a="jaxon.ajax.request.initialize: ";throw a+=jaxon.debug.getExceptionText(e),a+="\n",jaxon.debug.writeMessage(a,jaxon.debug.messages.error,"errorText"),e}},jaxon.debug.processParameters=jaxon.ajax.parameters.process,jaxon.ajax.parameters.process=function(e){try{if(void 0!==e.parameters){a=jaxon.debug.messages.parameters_processing;a+=e.parameters.length,a+=jaxon.debug.messages.parameters_processing_end,jaxon.debug.writeMessage(a)}else{a=jaxon.debug.messages.parameters_undefined;jaxon.debug.writeMessage(a)}return jaxon.debug.processParameters(e)}catch(e){var a="jaxon.ajax.parameters.process: ";throw a+=jaxon.debug.getExceptionText(e),a+="\n",jaxon.debug.writeMessage(a,jaxon.debug.messages.error,"errorText"),e}},jaxon.debug.prepareRequest=jaxon.ajax.request.prepare,jaxon.ajax.request.prepare=function(e){try{a=jaxon.debug.messages.request_preparing;return jaxon.debug.writeMessage(a),jaxon.debug.prepareRequest(e)}catch(e){var a="jaxon.ajax.request.prepare: ";throw a+=jaxon.debug.getExceptionText(e),a+="\n",jaxon.debug.writeMessage(a,jaxon.debug.messages.error,"errorText"),e}},jaxon.debug.call=jaxon.fn.handler.call,jaxon.fn.handler.call=function(){try{jaxon.debug.writeMessage(jaxon.debug.messages.call_starting);var e=arguments.length;if(0==e)throw{code:10009};var a=arguments[0],t={};return 1<e&&(t=arguments[1]),t.debugging=!0,jaxon.debug.call(a,t)}catch(e){var n="jaxon.fn.handler.call: ";throw n+=jaxon.debug.getExceptionText(e),n+="\n",jaxon.debug.writeMessage(n,jaxon.debug.messages.error,"errorText"),e}},jaxon.debug.request=jaxon.ajax.request.execute,jaxon.ajax.request.execute=function(){try{jaxon.debug.writeMessage(jaxon.debug.messages.request_starting);var e=arguments.length;if(0==e)throw{code:10010};var a=arguments[0],t={};return 1<e&&(t=arguments[1]),t.debugging=!0,jaxon.debug.request(a,t)}catch(e){var n="jaxon.ajax.request.execute: ";throw n+=jaxon.debug.getExceptionText(e),n+="\n",jaxon.debug.writeMessage(n,jaxon.debug.messages.error,"errorText"),e}},jaxon.debug.getResponseProcessor=jaxon.ajax.processor.find,jaxon.ajax.processor.find=function(e){try{var a=jaxon.debug.getResponseProcessor(e);if(void 0===a){n=jaxon.debug.messages.response_no_processor;try{var t=e.request.getResponseHeader("content-type");n+="Content-Type: ",n+=t,"text/html"==t&&(n+=jaxon.debug.messages.check_error_messages)}catch(e){}jaxon.debug.writeMessage(n,jaxon.debug.messages.error,"errorText")}return a}catch(e){var n="jaxon.ajax.processor.find: ";throw n+=jaxon.debug.getExceptionText(e),n+="\n",jaxon.debug.writeMessage(n,jaxon.debug.messages.error,"errorText"),e}},jaxon.debug.responseReceived=jaxon.ajax.response.received,jaxon.ajax.response.received=function(e){var a,t=jaxon,n=t.tools,o=t.debug;try{var r=e.request.status;if(n.array.is_in(t.ajax.response.successCodes,r)){var x=e.request.responseText;x=(x=(x=(x=(x=(x=x.replace(new RegExp("<cmd","g"),"\n<cmd")).replace(new RegExp("<jxn>","g"),"\n<jxn>")).replace(new RegExp("<jxnobj>","g"),"\n<jxnobj>")).replace(new RegExp("<e>","g"),"\n<e>")).replace(new RegExp("</jxnobj>","g"),"\n</jxnobj>\n")).replace(new RegExp("</jxn>","g"),"\n</jxn>"),e.midDate=new Date;d=jaxon.debug.messages.received_status;d+=e.request.status,d+=jaxon.debug.messages.received_size,d+=x.length,d+=jaxon.debug.messages.received_time,d+=e.midDate-e.beginDate,d+=jaxon.debug.messages.received_end,d+=x,o.writeMessage(d)}else if(n.array.is_in(t.ajax.response.errorsForAlert,r)){d=jaxon.debug.messages.response_http_status;d+=r,d+=jaxon.debug.messages.received,d+=e.request.responseText,o.writeMessage(d,jaxon.debug.messages.error,"errorText")}else if(n.array.is_in(t.ajax.response.redirectCodes,r)){d=jaxon.debug.messages.redirect;d+=e.request.getResponseHeader("location"),o.writeMessage(d)}a=o.responseReceived(e)}catch(e){var d="jaxon.ajax.response.received: ";d+=jaxon.debug.getExceptionText(e),d+="\n",o.writeMessage(d,jaxon.debug.messages.error,"errorText")}return a},jaxon.debug.completeResponse=jaxon.ajax.response.complete,jaxon.ajax.response.complete=function(e){try{var a=jaxon.debug.completeResponse(e);e.endDate=new Date;t=jaxon.debug.messages.done;return t+=e.endDate-e.beginDate,t+=jaxon.debug.messages.done_end,jaxon.debug.writeMessage(t),a}catch(e){var t="jaxon.ajax.response.complete: ";throw t+=jaxon.debug.getExceptionText(e),t+="\n",jaxon.debug.writeMessage(t,jaxon.debug.messages.error,"errorText"),e}},jaxon.debug.getRequestObject=jaxon.tools.ajax.createRequest,jaxon.tools.ajax.createRequest=function(){try{return jaxon.debug.writeMessage(jaxon.debug.messages.request_create),jaxon.debug.getRequestObject()}catch(a){var e="jaxon.tools.ajax.createRequest: ";throw e+=jaxon.debug.getExceptionText(a),e+="\n",jaxon.debug.writeMessage(e,jaxon.debug.messages.error,"errorText"),a}},jaxon.dom.assign&&(jaxon.debug.assign=jaxon.dom.assign,jaxon.dom.assign=function(e,a,t){try{return jaxon.debug.assign(e,a,t)}catch(e){var n="jaxon.dom.assign: ";n+=jaxon.debug.getExceptionText(e),n+="\n",n+="Eval: element.",n+=a,n+=" = data;\n",jaxon.debug.writeMessage(n,jaxon.debug.messages.error,"errorText")}return!0}),jaxon.tools&&jaxon.tools.queue&&jaxon.tools.queue.retry&&(void 0===jaxon.debug.tools&&(jaxon.debug.tools={}),void 0===jaxon.debug.tools.queue&&(jaxon.debug.tools.queue={}),jaxon.debug.tools.queue.retry=jaxon.tools.queue.retry,jaxon.tools.queue.retry=function(e,a){return!!jaxon.debug.tools.queue.retry(e,a)||(!e.cmd||"s"!=e.cmd)&&(jaxon.debug.writeMessage("Retry count exceeded."),!1)}),jaxon.debug.isLoaded=!0,jxn={},jxn.$=jaxon.tools.dom.$,jxn.getFormValues=jaxon.tools.getFormValues,jxn.call=jaxon.fn.handler.call,jxn.request=jaxon.ajax.request.execute,jaxon.$=jaxon.tools.dom.$}catch(e){alert(e.name+": "+e.message)}