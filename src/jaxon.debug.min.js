try{if("undefined"==typeof jaxon)throw{name:"SequenceError",message:"Error: Jaxon core was not detected, debug module disabled."};void 0===jaxon.debug&&(jaxon.debug={}),jaxon.debug.workId="jaxonWork"+(new Date).getTime(),jaxon.debug.windowSource="about:blank",jaxon.debug.windowID="jaxon_debug_"+jaxon.debug.workId,void 0===jaxon.debug.windowStyle&&(jaxon.debug.windowStyle="width=800,height=600,scrollbars=yes,resizable=yes,status=yes"),void 0===jaxon.debug.windowTemplate&&(jaxon.debug.windowTemplate='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>jaxon debug output</title><style type="text/css">/* <![CDATA[ */.debugEntry { margin: 3px; padding: 3px; border-top: 1px solid #999999; } .debugDate { font-weight: bold; margin: 2px; } .debugText { margin: 2px; } .warningText { margin: 2px; font-weight: bold; } .errorText { margin: 2px; font-weight: bold; color: #ff7777; }/* ]]> */</style></head><body><h2>jaxon debug output</h2><div id="debugTag"></div></body></html>'),jaxon.debug.getExceptionText=function(e){if(void 0!==e.code){if(void 0!==jaxon.debug.exceptions[e.code]){t=jaxon.debug.exceptions[e.code];return void 0!==e.data&&t.replace("{data}",e.data),t}}else if(void 0!==e.name){var t=e.name;return void 0!==e.message&&(t+=": ",t+=e.message),t}return"An unknown error has occurred."},jaxon.debug.writeMessage=function(e,t,a){try{var n=jaxon.debug;void 0!==n.window&&1!=n.window.closed||(n.window=window.open(n.windowSource,n.windowID,n.windowStyle),"about:blank"==n.windowSource&&n.window.document.write(n.windowTemplate));var o=n.window.document;void 0===t&&(t=""),void 0===a&&(a="debugText"),e=jaxon.debug.prepareDebugText(e);var r=o.getElementById("debugTag"),x=o.createElement("div"),d=o.createElement("span"),u=o.createElement("pre");d.innerHTML=(new Date).toString(),u.innerHTML=t+e,x.appendChild(d),x.appendChild(u),r.insertBefore(x,r.firstChild);try{x.className="debugEntry",d.className="debugDate",u.className=a}catch(e){}}catch(t){e.length>1e3&&(e=e.substr(0,1e3)+jaxon.debug.text[102]),alert(jaxon.debug.text[102]+e)}},jaxon.debug.prepareDebugText=function(e){try{return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />")}catch(t){jaxon.debug.stringReplace=function(e,t,a){var n=e.split(t);e="";for(var o=0;o<n.length;++o)0!=o&&(e+=a),e+=n[o];return e},jaxon.debug.prepareDebugText=function(e){return e=jaxon.debug.stringReplace(e,"&","&amp;"),e=jaxon.debug.stringReplace(e,"<","&lt;"),e=jaxon.debug.stringReplace(e,">","&gt;"),e=jaxon.debug.stringReplace(e,"\n","<br />")},jaxon.debug.prepareDebugText(e)}},jaxon.debug.executeCommand=jaxon.fn.handler.execute,jaxon.fn.handler.execute=function(e){try{if(void 0===e.cmd)throw{code:10006};if(0==jaxon.fn.handler.isRegistered(e))throw{code:10007,data:e.cmd};return jaxon.debug.executeCommand(e)}catch(a){var t="jaxon.fn.handler.execute (";void 0!==e.sequence&&(t+="#",t+=e.sequence,t+=", "),void 0!==e.cmdFullName&&(t+='"',t+=e.cmdFullName,t+='"'),t+="):\n",t+=jaxon.debug.getExceptionText(a),t+="\n",jaxon.debug.writeMessage(t,jaxon.debug.text[101],"errorText")}return!0},jaxon.debug.commandHandler=jaxon.fn.handler.unregister("dbg"),jaxon.fn.handler.register("dbg",function(e){return e.cmdFullName="debug message",jaxon.debug.writeMessage(e.data,jaxon.debug.text[100],"warningText"),jaxon.debug.commandHandler(e)}),jaxon.debug.$=jaxon.tools.dom.$,jaxon.tools.dom.$=function(e){try{var t=jaxon.debug.$(e);if("object"!=typeof t)throw{code:10008}}catch(e){var a="$:";a+=jaxon.debug.getExceptionText(e),a+="\n",jaxon.debug.writeMessage(a,jaxon.debug.text[100],"warningText")}return t},jaxon.debug._internalSend=jaxon.ajax.request._send,jaxon.ajax.request._send=function(e){try{jaxon.debug.writeMessage(jaxon.debug.text[104]),jaxon.debug.writeMessage(jaxon.debug.text[105]+e.requestData.length+jaxon.debug.text[106]),e.beginDate=new Date,jaxon.debug._internalSend(e)}catch(e){var t="jaxon.ajax.request._send: ";throw t+=jaxon.debug.getExceptionText(e),t+="\n",jaxon.debug.writeMessage(t,jaxon.debug.text[101],"errorText"),e}},jaxon.debug.submitRequest=jaxon.ajax.request.submit,jaxon.ajax.request.submit=function(e){var t=e.method;t+=": ",text=decodeURIComponent(e.requestData),text=text.replace(new RegExp("&jxn","g"),"\n&jxn"),text=text.replace(new RegExp("<jxnobj>","g"),"\n<jxnobj>"),text=text.replace(new RegExp("<e>","g"),"\n<e>"),text=text.replace(new RegExp("</jxnobj>","g"),"\n</jxnobj>\n"),t+=text,jaxon.debug.writeMessage(t),t=jaxon.debug.text[107];var a="\n";for(var n in e.functionName)t+=a,t+=n,t+=": ",t+=e.functionName[n],a="\n";t+=a,t+=jaxon.debug.text[108],t+=a,t+=e.URI,jaxon.debug.writeMessage(t);try{return jaxon.debug.submitRequest(e)}catch(t){if(jaxon.debug.writeMessage(t.message),0<e.retry)throw t}},jaxon.debug.initializeRequest=jaxon.ajax.request.initialize,jaxon.ajax.request.initialize=function(e){try{t=jaxon.debug.text[109];return jaxon.debug.writeMessage(t),jaxon.debug.initializeRequest(e)}catch(e){var t="jaxon.ajax.request.initialize: ";throw t+=jaxon.debug.getExceptionText(e),t+="\n",jaxon.debug.writeMessage(t,jaxon.debug.text[101],"errorText"),e}},jaxon.debug.processParameters=jaxon.ajax.parameters.process,jaxon.ajax.parameters.process=function(e){try{if(void 0!==e.parameters){t=jaxon.debug.text[110];t+=e.parameters.length,t+=jaxon.debug.text[111],jaxon.debug.writeMessage(t)}else{t=jaxon.debug.text[112];jaxon.debug.writeMessage(t)}return jaxon.debug.processParameters(e)}catch(e){var t="jaxon.ajax.parameters.process: ";throw t+=jaxon.debug.getExceptionText(e),t+="\n",jaxon.debug.writeMessage(t,jaxon.debug.text[101],"errorText"),e}},jaxon.debug.prepareRequest=jaxon.ajax.request.prepare,jaxon.ajax.request.prepare=function(e){try{t=jaxon.debug.text[113];return jaxon.debug.writeMessage(t),jaxon.debug.prepareRequest(e)}catch(e){var t="jaxon.ajax.request.prepare: ";throw t+=jaxon.debug.getExceptionText(e),t+="\n",jaxon.debug.writeMessage(t,jaxon.debug.text[101],"errorText"),e}},jaxon.debug.call=jaxon.fn.handler.call,jaxon.fn.handler.call=function(){try{jaxon.debug.writeMessage(jaxon.debug.text[114]);var e=arguments.length;if(0==e)throw{code:10009};var t=arguments[0],a={};return 1<e&&(a=arguments[1]),a.debugging=!0,jaxon.debug.call(t,a)}catch(e){var n="jaxon.fn.handler.call: ";throw n+=jaxon.debug.getExceptionText(e),n+="\n",jaxon.debug.writeMessage(n,jaxon.debug.text[101],"errorText"),e}},jaxon.debug.request=jaxon.ajax.request.execute,jaxon.ajax.request.execute=function(){try{jaxon.debug.writeMessage(jaxon.debug.text[115]);var e=arguments.length;if(0==e)throw{code:10010};var t=arguments[0],a={};return 1<e&&(a=arguments[1]),a.debugging=!0,jaxon.debug.request(t,a)}catch(e){var n="jaxon.ajax.request.execute: ";throw n+=jaxon.debug.getExceptionText(e),n+="\n",jaxon.debug.writeMessage(n,jaxon.debug.text[101],"errorText"),e}},jaxon.debug.getResponseProcessor=jaxon.ajax.processor.find,jaxon.ajax.processor.find=function(e){try{var t=jaxon.debug.getResponseProcessor(e);if(void 0===t){n=jaxon.debug.text[116];try{var a=e.request.getResponseHeader("content-type");n+="Content-Type: ",n+=a,"text/html"==a&&(n+=jaxon.debug.text[117])}catch(e){}jaxon.debug.writeMessage(n,jaxon.debug.text[101],"errorText")}return t}catch(e){var n="jaxon.ajax.processor.find: ";throw n+=jaxon.debug.getExceptionText(e),n+="\n",jaxon.debug.writeMessage(n,jaxon.debug.text[101],"errorText"),e}},jaxon.debug.responseReceived=jaxon.ajax.response.received,jaxon.ajax.response.received=function(e){var t,a=jaxon,n=a.tools,o=a.debug;try{var r=e.request.status;if(n.array.is_in(a.ajax.response.successCodes,r)){var x=e.request.responseText;x=(x=(x=(x=(x=(x=x.replace(new RegExp("<cmd","g"),"\n<cmd")).replace(new RegExp("<jxn>","g"),"\n<jxn>")).replace(new RegExp("<jxnobj>","g"),"\n<jxnobj>")).replace(new RegExp("<e>","g"),"\n<e>")).replace(new RegExp("</jxnobj>","g"),"\n</jxnobj>\n")).replace(new RegExp("</jxn>","g"),"\n</jxn>"),e.midDate=new Date;d=jaxon.debug.text[118];d+=e.request.status,d+=jaxon.debug.text[119],d+=x.length,d+=jaxon.debug.text[120],d+=e.midDate-e.beginDate,d+=jaxon.debug.text[121],d+=x,o.writeMessage(d)}else if(n.array.is_in(a.ajax.response.errorsForAlert,r)){d=jaxon.debug.text[122];d+=r,d+=jaxon.debug.text[123],d+=e.request.responseText,o.writeMessage(d,jaxon.debug.text[101],"errorText")}else if(n.array.is_in(a.ajax.response.redirectCodes,r)){d=jaxon.debug.text[124];d+=e.request.getResponseHeader("location"),o.writeMessage(d)}t=o.responseReceived(e)}catch(e){var d="jaxon.ajax.response.received: ";d+=jaxon.debug.getExceptionText(e),d+="\n",o.writeMessage(d,jaxon.debug.text[101],"errorText")}return t},jaxon.debug.completeResponse=jaxon.ajax.response.complete,jaxon.ajax.response.complete=function(e){try{var t=jaxon.debug.completeResponse(e);e.endDate=new Date;a=jaxon.debug.text[125];return a+=e.endDate-e.beginDate,a+=jaxon.debug.text[126],jaxon.debug.writeMessage(a),t}catch(e){var a="jaxon.ajax.response.complete: ";throw a+=jaxon.debug.getExceptionText(e),a+="\n",jaxon.debug.writeMessage(a,jaxon.debug.text[101],"errorText"),e}},jaxon.debug.getRequestObject=jaxon.tools.ajax.createRequest,jaxon.tools.ajax.createRequest=function(){try{return jaxon.debug.writeMessage(jaxon.debug.text[127]),jaxon.debug.getRequestObject()}catch(t){var e="jaxon.tools.ajax.createRequest: ";throw e+=jaxon.debug.getExceptionText(t),e+="\n",jaxon.debug.writeMessage(e,jaxon.debug.text[101],"errorText"),t}},jaxon.dom.assign&&(jaxon.debug.assign=jaxon.dom.assign,jaxon.dom.assign=function(e,t,a){try{return jaxon.debug.assign(e,t,a)}catch(e){var n="jaxon.dom.assign: ";n+=jaxon.debug.getExceptionText(e),n+="\n",n+="Eval: element.",n+=t,n+=" = data;\n",jaxon.debug.writeMessage(n,jaxon.debug.text[101],"errorText")}return!0}),jaxon.tools&&jaxon.tools.queue&&jaxon.tools.queue.retry&&(void 0===jaxon.debug.tools&&(jaxon.debug.tools={}),void 0===jaxon.debug.tools.queue&&(jaxon.debug.tools.queue={}),jaxon.debug.tools.queue.retry=jaxon.tools.queue.retry,jaxon.tools.queue.retry=function(e,t){return!!jaxon.debug.tools.queue.retry(e,t)||(!e.cmd||"s"!=e.cmd)&&(jaxon.debug.writeMessage("Retry count exceeded."),!1)}),jaxon.debug.isLoaded=!0,jxn={},jxn.$=jaxon.tools.dom.$,jxn.getFormValues=jaxon.tools.getFormValues,jxn.call=jaxon.fn.handler.call,jxn.request=jaxon.ajax.request.execute,jaxon.$=jaxon.tools.dom.$}catch(e){alert(e.name+": "+e.message)}